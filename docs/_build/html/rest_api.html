

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Rest API &mdash; MyCMS 0.0.1-poc documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Development Notes:" href="editors.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> MyCMS
          

          
          </a>

          
            
            
              <div class="version">
                0.1.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="devup.html">Development Setup</a><ul>
<li class="toctree-l2"><a class="reference internal" href="devup.html#build-requirements">Build Requirements</a><ul>
<li class="toctree-l3"><a class="reference internal" href="devup.html#building-templates">Building templates</a></li>
<li class="toctree-l3"><a class="reference internal" href="devup.html#overrides">Overrides</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="editors.html">Development Notes:</a><ul>
<li class="toctree-l2"><a class="reference internal" href="editors.html#writing-page-editors">Writing Page Editors</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Rest API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#tutorials">Tutorials</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#create-a-new-cmsentry-using-javascript">Create a new CMSEntry using javascript</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">MyCMS</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Rest API</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/rest_api.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="rest-api">
<h1>Rest API<a class="headerlink" href="#rest-api" title="Permalink to this headline">¶</a></h1>
<a class="reference internal image-reference" href="_images/mycms-api.png"><img alt="API web interface" src="_images/mycms-api.png" style="width: 600px;" /></a>
<span class="target" id="module-mycms.api"></span><p>The module mycms.api is a DRF based api which allows REST calls into the CMS contents stored
in the mycms database. The REST API documentation and interface can be reached at /cms/api/v2/docs/ of a mycms instance.</p>
<p>The web interface to the api exposes all the possible operations that we can do to the MyCMS database and is the
best way for understanding and testing the various api calls.</p>
<p>The API exposes the following endpoints:</p>
<ul class="simple">
<li><p>cmsauthtoken</p></li>
<li><p>cmscontents</p></li>
<li><p>cmsentries</p></li>
<li><p>cmspages</p></li>
<li><p>cmspaths</p></li>
</ul>
<div class="section" id="tutorials">
<h2>Tutorials<a class="headerlink" href="#tutorials" title="Permalink to this headline">¶</a></h2>
<div class="section" id="create-a-new-cmsentry-using-javascript">
<h3>Create a new CMSEntry using javascript<a class="headerlink" href="#create-a-new-cmsentry-using-javascript" title="Permalink to this headline">¶</a></h3>
<p>Introduction and Some Background:</p>
<p>Every mycms page defines a view_json object which contains information about the page. This can be seen in the html page
for example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">view_json</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;title&quot;</span><span class="o">:</span> <span class="s2">&quot;Yet Another CMS.&quot;</span><span class="p">,</span> <span class="s2">&quot;path&quot;</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;slug&quot;</span><span class="o">:</span> <span class="s2">&quot;yet-another-cms&quot;</span><span class="p">,</span> <span class="s2">&quot;page_type&quot;</span><span class="o">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s2">&quot;template&quot;</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span> <span class="s2">&quot;frontpage&quot;</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span> <span class="s2">&quot;published&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="s2">&quot;lists_include&quot;</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span> <span class="s2">&quot;page_number&quot;</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;created_by&quot;</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;logo_url&quot;</span><span class="o">:</span> <span class="s2">&quot;/static/mycms/images/png/default.png&quot;</span><span class="p">,</span> <span class="s2">&quot;path_str&quot;</span><span class="o">:</span> <span class="s2">&quot;/&quot;</span><span class="p">,</span> <span class="s2">&quot;content&quot;</span><span class="o">:</span> <span class="p">[],</span> <span class="s2">&quot;date_created_epoch&quot;</span><span class="o">:</span> <span class="mi">1460237699000</span><span class="p">,</span> <span class="s2">&quot;date_modified_epoch&quot;</span><span class="o">:</span> <span class="mi">1460237699000</span><span class="p">}</span>
</pre></div>
</div>
<p>In order to create a CMSEntry we use the endpoint /cms/api/v2/cmsentries/id/create_child/ where id is the parent of the page we want to create.</p>
</div>
</div>
<dl class="class">
<dt id="mycms.api.CMSAuthToken">
<em class="property">class </em><code class="sig-prename descclassname">mycms.api.</code><code class="sig-name descname">CMSAuthToken</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mycms/api.html#CMSAuthToken"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mycms.api.CMSAuthToken" title="Permalink to this definition">¶</a></dt>
<dd><p>Implements retrieving of Token.</p>
</dd></dl>

<dl class="class">
<dt id="mycms.api.CMSContentsViewSet">
<em class="property">class </em><code class="sig-prename descclassname">mycms.api.</code><code class="sig-name descname">CMSContentsViewSet</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mycms/api.html#CMSContentsViewSet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mycms.api.CMSContentsViewSet" title="Permalink to this definition">¶</a></dt>
<dd><p>A viewset that allows</p>
</dd></dl>

<dl class="class">
<dt id="mycms.api.CMSEntriesViewSet">
<em class="property">class </em><code class="sig-prename descclassname">mycms.api.</code><code class="sig-name descname">CMSEntriesViewSet</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mycms/api.html#CMSEntriesViewSet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mycms.api.CMSEntriesViewSet" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="mycms.api.CMSFormatterContent">
<em class="property">class </em><code class="sig-prename descclassname">mycms.api.</code><code class="sig-name descname">CMSFormatterContent</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mycms/api.html#CMSFormatterContent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mycms.api.CMSFormatterContent" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="mycms.api.CMSPagesViewSet">
<em class="property">class </em><code class="sig-prename descclassname">mycms.api.</code><code class="sig-name descname">CMSPagesViewSet</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mycms/api.html#CMSPagesViewSet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mycms.api.CMSPagesViewSet" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="mycms.api.CMSPathsViewSet">
<em class="property">class </em><code class="sig-prename descclassname">mycms.api.</code><code class="sig-name descname">CMSPathsViewSet</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mycms/api.html#CMSPathsViewSet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mycms.api.CMSPathsViewSet" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="editors.html" class="btn btn-neutral float-left" title="Development Notes:" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Jason Viloria

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>